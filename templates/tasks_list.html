<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Liste des tÃ¢ches</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<header>
  <h1>ğŸ“‹ Liste des tÃ¢ches</h1>
</header>

<div class="container">

  <nav>
    <a href="/tasks/home">ğŸ  Accueil des tÃ¢ches</a>
    <a href="/tasks/add">â• Ajouter une tÃ¢che</a>
  </nav>

  <hr>

  {% if tasks|length == 0 %}
    <p><strong>â³ En attente de tÃ¢chesâ€¦</strong></p>
    <p><a class="button" href="/tasks/add">Ajouter une tÃ¢che</a></p>
  {% else %}
    {% for task in tasks %}
      <div class="task-card {{ 'done' if task['done'] else 'pending' }}">
        <h3>
          {{ "âœ…" if task["done"] else "â³" }}
          {{ task["title"] }}
        </h3>

        <p>{{ task["description"] }}</p>
        <p><strong>Ã‰chÃ©ance :</strong> {{ task["due_date"] }}</p>

        <form method="post" action="/tasks/toggle" style="display:inline;">
          <input type="hidden" name="task_id" value="{{ task['id'] }}">
          <button class="button success" type="submit">
            {{ "Marquer en cours" if task["done"] else "Marquer terminÃ©e" }}
          </button>
        </form>

        <form method="post" action="/tasks/delete" style="display:inline;">
          <input type="hidden" name="task_id" value="{{ task['id'] }}">
          <button class="button danger" type="submit">
            Supprimer
          </button>
        </form>
      </div>
    {% endfor %}
  {% endif %}

</div>

<footer>
  Gestion des tÃ¢ches â€“ SÃ©quence 7
</footer>

</body>
</html>
